<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/template/tablesHeader.ejs') %> 
</head>
<h2>TABLA <span class="text-muted">REGISTRO DE ACTIVIDADES</span> </h2>
  <a href="/activities" class="btn btn-outline-secondary">Regresar</a>
  <div class="table-responsive">
    <table id="example"  class=" table table-striped table-ligth table-hover table-sm">
      <thead class="text-center">
        <tr>
          
          <th hidden>Id</th>
          <th>Nombre</th>
          <th>Secretaria</th>
          <th>facilitador</th>
          <th>Fecha inicio</th>
          <th>Fecha Final</th>
          <th>Hora de apertura</th>
          <th>Hora de cierre</th>
          <th>Lugar</th>
          <th>Ciudad</th>
          <th>Comuna</th>
          <th>Barrio</th>
          <th>Direección</th>
          <th>Tipo de reunión</th>
          <th>Nombre proyecto de Inversion</th>
          <th>Código Proyecto de Inversion</th>
          <th>nombre PDM y PI </th>
          <th>Codigo PDM y PI</th>
          <th>Linea</th>
          <th>Componente</th>
          <th>Acciones</th>

        </tr>
        </thead>
        <tbody>
        <% for(let activities of actividad ) {%> 
          <%- include('./partials/activitiesRowData.ejs', {actividad:activities}) %> 
          <% } %>
        </tbody>
    </table>
    </div>
<script>
  $(document).ready(function() {
     table = $('#example').DataTable({
    });

    //Creamos una fila en el head de la tabla y lo clonamos para cada columna
    $('#example thead tr').clone(true).appendTo( '#example thead' );

    $('#example thead tr:eq(1) th').each( function (i) {
        var title = $(this).text(); //es el nombre de la columna
        $(this).html( '<input type="text" placeholder="Search...'+title+'" />' );
 
        $( 'input', this ).on( 'keyup change', function () {
            if ( table.column(i).search() !== this.value ) {
                table
                    .column(i)
                    .search( this.value )
                    .draw();
            }
        } );
   
    } );  

    table.destroy();

$(document).ready(function() {
$('#example').DataTable({

  orderCellsTop: true,
      destroy: true,
       fixedHeader: true,
        "language": {
          "url": "https://cdn.datatables.net/plug-ins/1.10.25/i18n/Spanish.json",
          },
            "dom": 'Bfrtlip',
              "buttons":{
                "dom":{
                 "button":{
                   "className": 'btn'
                          }
                        },
              "buttons":[{
                 "extend":"excel",
                   "text": '<i class="fas fa-file-excel"></i>',
                     "className": 'btn btn-outline-success mb-1',
                          "titleAttr": 'Exportar a Excel',
                          "excelStyles":{
                            "template": 'green_medium'
                          }
                        }],
                      },
      })
    });
  }); 
  </script>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script src="/resources/js/axiosActivities/updateActivities.js"></script>
<script src="/resources/js/axiosActivities/deleteActivities.js"></script>


  </body>
  
  </html>